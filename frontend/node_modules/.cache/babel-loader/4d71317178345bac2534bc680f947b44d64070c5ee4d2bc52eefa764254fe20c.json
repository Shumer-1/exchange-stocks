{"ast":null,"code":"var _jsxFileName = \"/home/vladislav/WebstormProjects/stock_exchange/frontend/src/BrokerList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BrokerList() {\n  _s();\n  const [brokers, setBrokers] = useState([]);\n  const [newBroker, setNewBroker] = useState({\n    name: '',\n    balance: ''\n  }); // Используем объект\n\n  const loadBrokers = () => {\n    fetch('http://localhost:3001/brokers').then(response => response.json()).then(data => setBrokers(data)).catch(error => console.error('Error loading brokers:', error));\n  };\n\n  // Используем useEffect для загрузки брокеров при загрузке компонента\n  useEffect(() => {\n    loadBrokers();\n  }, []);\n\n  // Функция для добавления брокера\n  const addBroker = () => {\n    if (newBroker.name.trim() && newBroker.balance.trim()) {\n      // Проверяем имя и баланс\n      const broker = {\n        id: Date.now().toString(),\n        name: newBroker.name,\n        balance: parseFloat(newBroker.balance)\n      }; // Генерируем id и конвертируем баланс в число\n      fetch('http://localhost:3001/brokers', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(broker)\n      }).then(response => response.json()).then(() => {\n        setNewBroker({\n          name: '',\n          balance: ''\n        }); // Очищаем форму\n        loadBrokers(); // Перезагружаем список брокеров\n      }).catch(error => console.error('Error adding broker:', error));\n    }\n  };\n\n  // Функция для удаления брокера\n  const deleteBroker = id => {\n    fetch(`http://localhost:3001/brokers/${id}`, {\n      method: 'DELETE'\n    }).then(() => loadBrokers()) // Перезагружаем список брокеров после удаления\n    .catch(error => console.error('Error deleting broker:', error));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0431\\u0440\\u043E\\u043A\\u0435\\u0440\\u043E\\u0432\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: brokers.map(broker => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [broker.name, \" - \\u0411\\u0430\\u043B\\u0430\\u043D\\u0441: \", broker.balance, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteBroker(broker.id),\n          children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this)]\n      }, broker.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: newBroker.name,\n      onChange: e => setNewBroker({\n        ...newBroker,\n        name: e.target.value\n      }) // Обновляем только name\n      ,\n      placeholder: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043D\\u043E\\u0432\\u043E\\u0433\\u043E \\u0431\\u0440\\u043E\\u043A\\u0435\\u0440\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: newBroker.balance,\n      onChange: e => setNewBroker({\n        ...newBroker,\n        balance: e.target.value\n      }) // Обновляем только balance\n      ,\n      placeholder: \"\\u0411\\u0430\\u043B\\u0430\\u043D\\u0441\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addBroker,\n      children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n_s(BrokerList, \"QoujkfCUmYtaNs5exwXqoZ5UJRw=\");\n_c = BrokerList;\nexport default BrokerList;\nvar _c;\n$RefreshReg$(_c, \"BrokerList\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","BrokerList","_s","brokers","setBrokers","newBroker","setNewBroker","name","balance","loadBrokers","fetch","then","response","json","data","catch","error","console","addBroker","trim","broker","id","Date","now","toString","parseFloat","method","headers","body","JSON","stringify","deleteBroker","children","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","type","value","onChange","e","target","placeholder","_c","$RefreshReg$"],"sources":["/home/vladislav/WebstormProjects/stock_exchange/frontend/src/BrokerList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nfunction BrokerList() {\n    const [brokers, setBrokers] = useState([]);\n    const [newBroker, setNewBroker] = useState({ name: '', balance: '' }); // Используем объект\n\n    const loadBrokers = () => {\n        fetch('http://localhost:3001/brokers')\n            .then((response) => response.json())\n            .then((data) => setBrokers(data))\n            .catch((error) => console.error('Error loading brokers:', error));\n    };\n\n    // Используем useEffect для загрузки брокеров при загрузке компонента\n    useEffect(() => {\n        loadBrokers();\n    }, []);\n\n    // Функция для добавления брокера\n    const addBroker = () => {\n        if (newBroker.name.trim() && newBroker.balance.trim()) { // Проверяем имя и баланс\n            const broker = { id: Date.now().toString(), name: newBroker.name, balance: parseFloat(newBroker.balance) }; // Генерируем id и конвертируем баланс в число\n            fetch('http://localhost:3001/brokers', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(broker),\n            })\n                .then((response) => response.json())\n                .then(() => {\n                    setNewBroker({ name: '', balance: '' }); // Очищаем форму\n                    loadBrokers(); // Перезагружаем список брокеров\n                })\n                .catch((error) => console.error('Error adding broker:', error));\n        }\n    };\n\n    // Функция для удаления брокера\n    const deleteBroker = (id) => {\n        fetch(`http://localhost:3001/brokers/${id}`, {\n            method: 'DELETE',\n        })\n            .then(() => loadBrokers()) // Перезагружаем список брокеров после удаления\n            .catch((error) => console.error('Error deleting broker:', error));\n    };\n\n    return (\n        <div>\n            <h2>Список брокеров</h2>\n            <ul>\n                {brokers.map((broker) => (\n                    <li key={broker.id}>\n                        {broker.name} - Баланс: {broker.balance}\n                        <button onClick={() => deleteBroker(broker.id)}>Удалить</button>\n                    </li>\n                ))}\n            </ul>\n            <input\n                type=\"text\"\n                value={newBroker.name}\n                onChange={(e) => setNewBroker({ ...newBroker, name: e.target.value })} // Обновляем только name\n                placeholder=\"Добавьте нового брокера\"\n            />\n            <input\n                type=\"number\"\n                value={newBroker.balance}\n                onChange={(e) => setNewBroker({ ...newBroker, balance: e.target.value })} // Обновляем только balance\n                placeholder=\"Баланс\"\n            />\n            <button onClick={addBroker}>Добавить</button>\n        </div>\n    );\n}\n\nexport default BrokerList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}